# Redis 常用数据结构及命令

## 1️⃣ String（字符串）
**用途**：缓存、计数器、分布式锁、简单 KV 存储  
**常用命令**：
- `SET key value [EX seconds] [NX|XX]`：设置键值，可带过期时间、条件  
- `GET key`：获取值  
- `INCR key` / `DECR key`：自增/自减  
- `APPEND key value`：追加内容  
- `MSET key1 v1 key2 v2 …` / `MGET key1 key2 …`：批量设置/获取

---

## 2️⃣ Hash（哈希表）
**用途**：存储对象（类似 `Map<String,String>`），适合用户信息、配置  
**常用命令**：
- `HSET key field value`：设置字段  
- `HGET key field`：获取字段值  
- `HMSET key field1 v1 field2 v2 …` / `HMGET key f1 f2 …`  
- `HGETALL key`：获取全部字段和值  
- `HDEL key field [field ...]`：删除字段  
- `HLEN key`：字段数量  
- `HEXISTS key field`：字段是否存在

---

## 3️⃣ List（列表，双端链表）
**用途**：消息队列、任务队列、时间序列  
**常用命令**：
- `LPUSH key value [value ...]`：左侧推入  
- `RPUSH key value [value ...]`：右侧推入  
- `LPOP key` / `RPOP key`：弹出  
- `BLPOP key timeout` / `BRPOP key timeout`：阻塞式弹出  
- `LRANGE key start stop`：范围查询  
- `LLEN key`：长度  
- `LREM key count value`：按值删除

---

## 4️⃣ Set（集合，无序不重复）
**用途**：去重、标签、共同好友、抽奖  
**常用命令**：
- `SADD key member [member ...]`：添加元素  
- `SREM key member [member ...]`：删除元素  
- `SMEMBERS key`：获取所有成员  
- `SISMEMBER key member`：判断是否存在  
- `SCARD key`：元素数量  
- `SINTER key1 key2 ...` / `SUNION` / `SDIFF`：交并差集  
- `SRANDMEMBER key [count]`：随机取元素

---

## 5️⃣ Sorted Set（有序集合 zset）
**用途**：排行榜、带权重的队列、延时任务  
**常用命令**：
- `ZADD key score member [score member ...]`：添加元素及分数  
- `ZREM key member [member ...]`：删除  
- `ZSCORE key member`：获取分数  
- `ZRANGE key start stop [WITHSCORES]`：按排名升序取元素  
- `ZREVRANGE key start stop [WITHSCORES]`：降序  
- `ZCARD key`：数量  
- `ZINCRBY key increment member`：增加分数  
- `ZCOUNT key min max`：分数区间计数  
- `ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]`：按分数范围取值

---

## 6️⃣ Bitmaps（位图）
**用途**：签到、在线状态、布隆过滤的基础  
**常用命令**：
- `SETBIT key offset value`：设置某位  
- `GETBIT key offset`：获取某位  
- `BITCOUNT key [start end]`：统计 1 的数量  
- `BITOP AND|OR|XOR|NOT destkey key [key ...]`：位运算

---

## 7️⃣ HyperLogLog
**用途**：基数（去重后元素个数）统计，极省内存  
**常用命令**：
- `PFADD key element [element ...]`  
- `PFCOUNT key [key ...]`  
- `PFMERGE destkey sourcekey [sourcekey ...]`

---

## 8️⃣ Streams（流）
**用途**：消息队列、事件日志  
**常用命令**：
- `XADD key * field value [field value ...]`：写入流  
- `XREAD [BLOCK ms] STREAMS key id`：读取消息  
- `XGROUP CREATE key groupName id-or-$`：创建消费者组  
- `XREADGROUP GROUP groupName consumer ...`：组读取  
- `XACK key group id`：确认消费  
- `XLEN key`：长度

---

## 其他常用技巧
- 过期与持久化：`EXPIRE key seconds`、`TTL key`、`PERSIST key`  
- 事务/乐观锁：`MULTI` / `EXEC` / `WATCH`  
- 发布订阅：`PUBLISH channel message`、`SUBSCRIBE channel`


